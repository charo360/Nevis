#!/bin/bash

# Check recent Stripe events and webhook deliveries

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ” STRIPE WEBHOOK DIAGNOSTICS"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Please answer these questions by checking Stripe Dashboard:"
echo ""
echo "1ï¸âƒ£  Go to: https://dashboard.stripe.com/test/events"
echo ""
echo "2ï¸âƒ£  Do you see recent checkout.session.completed events?"
echo "    (From your $0.50 or $24.99 payments)"
echo ""
echo "3ï¸âƒ£  Click on the MOST RECENT checkout.session.completed event"
echo ""
echo "4ï¸âƒ£  Scroll to 'Deliveries to webhook endpoints' section"
echo ""
echo "5ï¸âƒ£  What does it say?"
echo "    a) 'No webhook endpoints were configured when this event occurred'"
echo "    b) Shows delivery to: https://0655bf5a38ca.ngrok-free.app/api/webhooks/stripe"
echo "    c) Shows delivery to a different URL"
echo "    d) Shows 'Failed' delivery"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Also check:"
echo ""
echo "6ï¸âƒ£  Go to: https://dashboard.stripe.com/test/webhooks"
echo ""
echo "7ï¸âƒ£  How many webhook endpoints do you see?"
echo ""
echo "8ï¸âƒ£  Which ones show 'Enabled' status?"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

